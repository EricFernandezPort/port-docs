<h2> Creating a service account </h2>

:::tip Enable Required APIs
Before you start, ensure your Google Cloud project has the following APIs enabled. These APIs are essential for the GCP integration to work smoothly:
- **Cloud Asset Inventory API**: Required for accessing your cloud asset data [view docs](https://cloud.google.com/asset-inventory/docs/view-assets)
- **Cloud Resource Manager API**: Necessary for accessing your projects, folders, and organizational units [enable here](https://console.cloud.google.com/apis/api/cloudresourcemanager.googleapis.com/overview).
- **Pub/Sub API**: Optional — enable this only if you plan to query Pub/Sub topics or subscriptions [enable here](https://console.cloud.google.com/apis/api/pubsub.googleapis.com/overview).
- **Cloud Quotas API**: Optional — recommended to help prevent potential permission issues when querying your cloud resources [view docs](https://cloud.google.com/docs/quotas/development-environment).
:::

1. Make sure you have your selected project in the top left toggle.

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/select_project.png' width='50%' border='1px' /> <br/><br/>

2. In the search text box, search for `service accounts`. Click the `IAM & Admin` option.

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/search_service_accounts.png' width='50%' border='1px' /> <br/><br/>

3. Click on `CREATE SERVICE ACCOUNT`.

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/click_on_create.png' width='50%' border='1px' /> <br/><br/>

4. Fill up an ID and a description, `continue`.

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/follow_instructions.png' width='50%' border='1px' /> <br/><br/>

5. Click the `Select a role` dropdown, then search and add the following Roles:
   1. Browser
   2. Cloud Asset Viewer
   3. Pub/Sub Viewer

   Should look like this:

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/give_permissions.png' width='50%' border='1px' /> <br/><br/>

6. Click on continue -> Done
7. You've successfully finished creating a Service account!

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/done_creating.png' width='50%' border='1px' /> <br/><br/>

<h2> Fetching Key file </h2>

There are multiple ways to use the service account we just created. In this guide, we'll use the Service Account Key method.

:::warning
According to Google Cloud, This isn't the preferred way for Production purposes. The Terraform Installation is using Google's native method to authenticate, and is the one we propose for a Production setup.
:::

1. Make sure you have your selected project in the top left toggle.

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/select_project.png' width='50%' border='1px' /> <br/><br/>

2. In the search text box, search for `service accounts`. Click the `IAM & Admin` option

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/selected_service_account.png' width='50%' border='1px' /> <br/><br/>

3. Click on the Service account. 

   Should look like this:

   <img src='/img/build-your-software-catalog/sync-data-to-catalog/cloud-providers/gcp/selected_service_account.png' width='50%' border='1px' /> <br/><br/>

4. Click on `Keys` -> `Add Key` -> `Create new key` -> `JSON` -> `CREATE`
5. This will download your new Service Account Key configuration file.
6. Done!